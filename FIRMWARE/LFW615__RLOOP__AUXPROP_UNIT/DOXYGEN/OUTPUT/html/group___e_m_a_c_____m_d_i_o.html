<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>LFW615 (RLOOP - AUX PROP UNIT (APU)): EMAC__MDIO</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="sil3_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="SIL3_LOGO_180X50.BMP"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LFW615 (RLOOP - AUX PROP UNIT (APU))
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___e_m_a_c_____m_d_i_o.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">EMAC__MDIO<div class="ingroups"><a class="el" href="group___r_m4.html">RM4</a> &raquo; <a class="el" href="group___e_m_a_c.html">EMAC</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for EMAC__MDIO:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___e_m_a_c_____m_d_i_o.png" border="0" alt="" usemap="#group______e__m__a__c__________m__d__i__o"/>
<map name="group______e__m__a__c__________m__d__i__o" id="group______e__m__a__c__________m__d__i__o">
<area shape="rect" id="node1" href="group___e_m_a_c.html" title="EMAC" alt="" coords="5,5,65,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga053472a8a014797e2530755579f383bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga053472a8a014797e2530755579f383bc">MDIO__PHY_REG_MASK</a>&#160;&#160;&#160;(0x1FU)</td></tr>
<tr class="separator:ga053472a8a014797e2530755579f383bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3fab5e6517d19549f9737cabfed28fdd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga3fab5e6517d19549f9737cabfed28fdd">MDIO__PHY_ADDR_MASK</a>&#160;&#160;&#160;(0x1FU)</td></tr>
<tr class="separator:ga3fab5e6517d19549f9737cabfed28fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga262e49db3adde3eacd3ba7155128abbe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga262e49db3adde3eacd3ba7155128abbe">MDIO__PHY_DATA_MASK</a>&#160;&#160;&#160;(0xFFFFU)</td></tr>
<tr class="separator:ga262e49db3adde3eacd3ba7155128abbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0cf17ec32a947b5666cf8849056dbaac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga0cf17ec32a947b5666cf8849056dbaac">MDIO__PHY_REG_SHIFT</a>&#160;&#160;&#160;(21U)</td></tr>
<tr class="separator:ga0cf17ec32a947b5666cf8849056dbaac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga898c0ce1727cf9a4e658b4e405314c47"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga898c0ce1727cf9a4e658b4e405314c47">MDIO__PHY_ADDR_SHIFT</a>&#160;&#160;&#160;(16U)</td></tr>
<tr class="separator:ga898c0ce1727cf9a4e658b4e405314c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2b63784f895bc3acbf1c7e04e8e91632"><td class="memItemLeft" align="right" valign="top">Lint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga2b63784f895bc3acbf1c7e04e8e91632">s16RM4_EMAC_MDIO__Init</a> (Luint32 mdioInputFreq, Luint32 mdioOutputFreq)</td></tr>
<tr class="memdesc:ga2b63784f895bc3acbf1c7e04e8e91632"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the MDIO peripheral.  <a href="#ga2b63784f895bc3acbf1c7e04e8e91632">More...</a><br /></td></tr>
<tr class="separator:ga2b63784f895bc3acbf1c7e04e8e91632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bf09fb1fda13de1b813123014e8894d"><td class="memItemLeft" align="right" valign="top">Luint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga1bf09fb1fda13de1b813123014e8894d">u32RM4_EMAC_MDIO__Get_ModuleRevisionID</a> (void)</td></tr>
<tr class="memdesc:ga1bf09fb1fda13de1b813123014e8894d"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads the module revision ID  <a href="#ga1bf09fb1fda13de1b813123014e8894d">More...</a><br /></td></tr>
<tr class="separator:ga1bf09fb1fda13de1b813123014e8894d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1ff8da0d092f9d05a2384d6a1a1c70a"><td class="memItemLeft" align="right" valign="top">Lint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_a_c_____m_d_i_o.html#gaa1ff8da0d092f9d05a2384d6a1a1c70a">s16RM4_EMAC_MDIO__Read_Register</a> (Luint32 u32RegisterNum, Luint16 *pu16Data)</td></tr>
<tr class="memdesc:gaa1ff8da0d092f9d05a2384d6a1a1c70a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a PHY register using MDIO.  <a href="#gaa1ff8da0d092f9d05a2384d6a1a1c70a">More...</a><br /></td></tr>
<tr class="separator:gaa1ff8da0d092f9d05a2384d6a1a1c70a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4025a583b27c77e91b59832f1210544"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_a_c_____m_d_i_o.html#gaf4025a583b27c77e91b59832f1210544">vRM4_EMAC_MDIO__Write_Register</a> (Luint32 u32RegIndex, Luint16 u16Value)</td></tr>
<tr class="memdesc:gaf4025a583b27c77e91b59832f1210544"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a PHY register using MDIO.  <a href="#gaf4025a583b27c77e91b59832f1210544">More...</a><br /></td></tr>
<tr class="separator:gaf4025a583b27c77e91b59832f1210544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65788b926d41be76368189068ff6ef7b"><td class="memItemLeft" align="right" valign="top">Luint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga65788b926d41be76368189068ff6ef7b">u32RM4_EMAC_MDIO__Get_AliveStatus</a> (void)</td></tr>
<tr class="memdesc:ga65788b926d41be76368189068ff6ef7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the alive status of all PHY connected to this MDIO.  <a href="#ga65788b926d41be76368189068ff6ef7b">More...</a><br /></td></tr>
<tr class="separator:ga65788b926d41be76368189068ff6ef7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11ebd1f2af2da4933f586a79a26e1a71"><td class="memItemLeft" align="right" valign="top">Luint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga11ebd1f2af2da4933f586a79a26e1a71">u32RM4_EMAC_MDIO__Get_LinkStatus</a> (void)</td></tr>
<tr class="memdesc:ga11ebd1f2af2da4933f586a79a26e1a71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the link status of all PHY connected to this MDIO.  <a href="#ga11ebd1f2af2da4933f586a79a26e1a71">More...</a><br /></td></tr>
<tr class="separator:ga11ebd1f2af2da4933f586a79a26e1a71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga3fab5e6517d19549f9737cabfed28fdd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDIO__PHY_ADDR_MASK&#160;&#160;&#160;(0x1FU)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group___e_m_a_c_____m_d_i_o.html#gaa1ff8da0d092f9d05a2384d6a1a1c70a">s16RM4_EMAC_MDIO__Read_Register()</a>, and <a class="el" href="group___e_m_a_c_____m_d_i_o.html#gaf4025a583b27c77e91b59832f1210544">vRM4_EMAC_MDIO__Write_Register()</a>.</p>

</div>
</div>
<a class="anchor" id="ga898c0ce1727cf9a4e658b4e405314c47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDIO__PHY_ADDR_SHIFT&#160;&#160;&#160;(16U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group___e_m_a_c_____m_d_i_o.html#gaa1ff8da0d092f9d05a2384d6a1a1c70a">s16RM4_EMAC_MDIO__Read_Register()</a>, and <a class="el" href="group___e_m_a_c_____m_d_i_o.html#gaf4025a583b27c77e91b59832f1210544">vRM4_EMAC_MDIO__Write_Register()</a>.</p>

</div>
</div>
<a class="anchor" id="ga262e49db3adde3eacd3ba7155128abbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDIO__PHY_DATA_MASK&#160;&#160;&#160;(0xFFFFU)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group___e_m_a_c_____m_d_i_o.html#gaa1ff8da0d092f9d05a2384d6a1a1c70a">s16RM4_EMAC_MDIO__Read_Register()</a>.</p>

</div>
</div>
<a class="anchor" id="ga053472a8a014797e2530755579f383bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDIO__PHY_REG_MASK&#160;&#160;&#160;(0x1FU)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group___e_m_a_c_____m_d_i_o.html#gaa1ff8da0d092f9d05a2384d6a1a1c70a">s16RM4_EMAC_MDIO__Read_Register()</a>, and <a class="el" href="group___e_m_a_c_____m_d_i_o.html#gaf4025a583b27c77e91b59832f1210544">vRM4_EMAC_MDIO__Write_Register()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0cf17ec32a947b5666cf8849056dbaac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDIO__PHY_REG_SHIFT&#160;&#160;&#160;(21U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group___e_m_a_c_____m_d_i_o.html#gaa1ff8da0d092f9d05a2384d6a1a1c70a">s16RM4_EMAC_MDIO__Read_Register()</a>, and <a class="el" href="group___e_m_a_c_____m_d_i_o.html#gaf4025a583b27c77e91b59832f1210544">vRM4_EMAC_MDIO__Write_Register()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga2b63784f895bc3acbf1c7e04e8e91632"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Lint16 s16RM4_EMAC_MDIO__Init </td>
          <td>(</td>
          <td class="paramtype">Luint32&#160;</td>
          <td class="paramname"><em>mdioInputFreq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Luint32&#160;</td>
          <td class="paramname"><em>mdioOutputFreq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the MDIO peripheral. </p>
<p>Initializes the MDIO peripheral This enables the MDIO state machine, uses standard pre-amble and set the clock divider value. 28.2.8.2.1 Initializing the MDIO Module The following steps are performed by the application software or device driver to initialize the MDIO device:</p><ol type="1">
<li>Configure the PREAMBLE and CLKDIV bits in the MDIO control register [CONTROL).</li>
<li>Enable the MDIO module by setting the ENABLE bit in CONTROL.</li>
<li>The MDIO PHY alive status register [ALIVE) can be read in polling fashion until a PHY connected to the system responded, and the MDIO PHY link status register [LINK) can determine whether this PHY already has a link.</li>
<li>Setup the appropriate PHY addresses in the MDIO user PHY select register [USERPHYSELn), and set the LINKINTENB bit to enable a link change event interrupt if desirable.</li>
<li>If an interrupt on general MDIO register access is desired, set the corresponding bit in the MDIO user command complete interrupt mask set register [USERINTMASKSET) to use the MDIO user access register [USERACCESSn). Since only one PHY is used in this device, the application software can use one USERACCESSn to trigger a completion interrupt; the other USERACCESSn is not setup.</li>
</ol>
<p>28.2.16.3 MDIO Module Initialization The MDIO module is used to initially configure and monitor one or more external PHY devices. Other than initializing the software state machine [details on this state machine can be found in the IEEE 802.3 standard), all that needs to be done for the MDIO module is to enable the MDIO engine and to configure the clock divider. To set the clock divider, supply an MDIO clock of 1 MHz. For example, if the peripheral clock is 50 MHz, the divider can be set to 50. Both the state machine enable and the MDIO clock divider are controlled through the MDIO control register [CONTROL). If none of the potentially connected PHYs require the access preamble, the PREAMBLE bit in CONTROL can also be set to speed up PHY register access. If the MDIO module is to operate on an interrupt basis, the interrupts can be enabled at this time using the MDIO user command complete interrupt mask set register [USERINTMASKSET) for register access and the MDIO user PHY select register [USERPHYSELn) if a target PHY is already known. Once the MDIO state machine has been initialized and enabled, it starts polling all 32 PHY addresses on the MDIO bus, looking for an active PHY. Since it can take up to 50 us to read one register, it can be some time before the MDIO module provides an accurate representation of whether a PHY is available. Also, a PHY can take up to 3 seconds to negotiate a link. Thus, it is advisable to run the MDIO software off a time-based event rather than polling.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mdioOutputFreq</td><td>The clock output required on the MDIO bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mdioInputFreq</td><td>The clock input to the MDIO module </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success -ve = error </dd></dl>
<dl class="section user"><dt>SafeTool Function MD5:</dt><dd>F54A11A8B8BD8C4DBE13C9A20BAFBC6E </dd></dl>
<dl class="section user"><dt>SafeTool Function ID:</dt><dd>LCCM254R0.FILE.009.FUNC.001 </dd></dl>

<p>References <a class="el" href="rm4__emac____dp83640__private_8h.html#aacf809e0126944e4d80e729f02a21b97">C_DP83640__PHY_INDEX</a>, <a class="el" href="rm4__emac____private_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>, <a class="el" href="rm4__emac____private_8h.html#a69d2233cd6cb1f0cf52438dfb418666e">MDIO_BASE</a>, <a class="el" href="rm4__emac____private_8h.html#a40875d8b9452a6fcad7bda603538f391">MDIO_CONTROL</a>, <a class="el" href="rm4__emac____private_8h.html#a2dc2c79004105a0fa3b446a5eb78294c">MDIO_CONTROL_CLKDIV</a>, <a class="el" href="rm4__emac____private_8h.html#a4cf464cec42ba28f85a6a4c89921c9fd">MDIO_CONTROL_ENABLE</a>, <a class="el" href="rm4__emac____private_8h.html#a576977aea45b9809a50a105149d4ba01">MDIO_CONTROL_FAULTENB</a>, <a class="el" href="rm4__emac____private_8h.html#a30957bb6747e5f1acfde3708950ffb95">MDIO_CONTROL_PREAMBLE</a>, <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga65788b926d41be76368189068ff6ef7b">u32RM4_EMAC_MDIO__Get_AliveStatus()</a>, and <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga1bf09fb1fda13de1b813123014e8894d">u32RM4_EMAC_MDIO__Get_ModuleRevisionID()</a>.</p>

<p>Referenced by <a class="el" href="group___e_m_a_c_____l_i_n_k.html#ga28fd9c9e44b8991a6756e39c0cf46ccd">vRM4_EMAC_LINK__Process()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___e_m_a_c_____m_d_i_o_ga2b63784f895bc3acbf1c7e04e8e91632_cgraph.png" border="0" usemap="#group___e_m_a_c_____m_d_i_o_ga2b63784f895bc3acbf1c7e04e8e91632_cgraph" alt=""/></div>
<map name="group___e_m_a_c_____m_d_i_o_ga2b63784f895bc3acbf1c7e04e8e91632_cgraph" id="group___e_m_a_c_____m_d_i_o_ga2b63784f895bc3acbf1c7e04e8e91632_cgraph">
<area shape="rect" id="node2" href="group___e_m_a_c_____m_d_i_o.html#ga65788b926d41be76368189068ff6ef7b" title="Reads the alive status of all PHY connected to this MDIO. " alt="" coords="240,5,431,47"/>
<area shape="rect" id="node3" href="group___e_m_a_c_____m_d_i_o.html#ga1bf09fb1fda13de1b813123014e8894d" title="reads the module revision ID " alt="" coords="240,71,431,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___e_m_a_c_____m_d_i_o_ga2b63784f895bc3acbf1c7e04e8e91632_icgraph.png" border="0" usemap="#group___e_m_a_c_____m_d_i_o_ga2b63784f895bc3acbf1c7e04e8e91632_icgraph" alt=""/></div>
<map name="group___e_m_a_c_____m_d_i_o_ga2b63784f895bc3acbf1c7e04e8e91632_icgraph" id="group___e_m_a_c_____m_d_i_o_ga2b63784f895bc3acbf1c7e04e8e91632_icgraph">
<area shape="rect" id="node2" href="group___e_m_a_c_____l_i_n_k.html#ga28fd9c9e44b8991a6756e39c0cf46ccd" title="process the state machine Called each program loop to progressively bring up the link. " alt="" coords="240,5,436,32"/>
<area shape="rect" id="node3" href="group___a_u_x_p_r_o_p_____e_t_h_e_r_n_e_t.html#ga07ef859caffe639869e79024127100f6" title="Process any ethernet tasks. " alt="" coords="484,5,632,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa1ff8da0d092f9d05a2384d6a1a1c70a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Lint16 s16RM4_EMAC_MDIO__Read_Register </td>
          <td>(</td>
          <td class="paramtype">Luint32&#160;</td>
          <td class="paramname"><em>u32RegisterNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Luint16 *&#160;</td>
          <td class="paramname"><em>pu16Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a PHY register using MDIO. </p>
<p>Reads a PHY register using MDIO. 28.2.8.2.3 Reading Data From a PHY Register The MDIO module includes a user access register [USERACCESSn) to directly access a specified PHY device. To read a PHY register, perform the following:</p><ol type="1">
<li>Check to ensure that the GO bit in the MDIO user access register [USERACCESSn) is cleared.</li>
<li>Write to the GO, REGADR, and PHYADR bits in USERACCESSn corresponding to the PHY and PHY register you want to read.</li>
</ol>
<p>The read data value is available in the DATA bits in USERACCESSn after the module completes the read operation on the serial bus. Completion of the read operation can be determined by polling the GO and ACK bits in USERACCESSn. Once the GO bit has cleared, the ACK bit is set on a successful read.</p><ol type="1">
<li>Completion of the operation sets the corresponding USERINTRAW bit [0 or 1) in the MDIO user command complete interrupt register [USERINTRAW) corresponding to USERACCESSn used. If interrupts have been enabled on this bit using the MDIO user command complete interrupt mask set register [USERINTMASKSET), then the bit is also set in the MDIO user command complete interrupt register [USERINTMASKED) and an interrupt is triggered on the CPU.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pu16Data</td><td>Pointer where the read value shall be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32RegisterNum</td><td>Register Number to be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 - read is not acknowledged properly<br />
 1 - read is successful </dd></dl>
<dl class="section user"><dt>SafeTool Function MD5:</dt><dd>65801E14373DA1D59CDD2A58DA95CEEA </dd></dl>
<dl class="section user"><dt>SafeTool Function ID:</dt><dd>LCCM254R0.FILE.009.FUNC.003 </dd></dl>

<p>References <a class="el" href="rm4__emac____dp83640__private_8h.html#aacf809e0126944e4d80e729f02a21b97">C_DP83640__PHY_INDEX</a>, <a class="el" href="rm4__emac____private_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>, <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga3fab5e6517d19549f9737cabfed28fdd">MDIO__PHY_ADDR_MASK</a>, <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga898c0ce1727cf9a4e658b4e405314c47">MDIO__PHY_ADDR_SHIFT</a>, <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga262e49db3adde3eacd3ba7155128abbe">MDIO__PHY_DATA_MASK</a>, <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga053472a8a014797e2530755579f383bc">MDIO__PHY_REG_MASK</a>, <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga0cf17ec32a947b5666cf8849056dbaac">MDIO__PHY_REG_SHIFT</a>, <a class="el" href="rm4__emac____private_8h.html#a69d2233cd6cb1f0cf52438dfb418666e">MDIO_BASE</a>, <a class="el" href="rm4__emac____private_8h.html#a18330a62f4a443e65a06809ab97660e2">MDIO_USERACCESS0</a>, <a class="el" href="rm4__emac____private_8h.html#a4e98e058a3683510579b2bfbb7ce83bf">MDIO_USERACCESS0_ACK</a>, <a class="el" href="rm4__emac____private_8h.html#a899917f91dd5064395c46f9e6a6b0da0">MDIO_USERACCESS0_GO</a>, and <a class="el" href="rm4__emac____private_8h.html#a2a4374473307dd2b7b09c988bae34f93">MDIO_USERACCESS0_READ</a>.</p>

</div>
</div>
<a class="anchor" id="ga65788b926d41be76368189068ff6ef7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Luint32 u32RM4_EMAC_MDIO__Get_AliveStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the alive status of all PHY connected to this MDIO. </p>
<p>Reads the alive status of all PHY connected to this MDIO The bit corresponding to the PHY address will be set if the PHY is alive. MDIO Alive bits. Each of the 32 bits of this register is set if the most recent access to the PHY with address corresponding to the register bit number was acknowledged by the PHY; the bit is reset if the PHY fails to acknowledge the access. Both the user and polling accesses to a PHY will cause the corresponding alive bit to be updated. The alive bits are only meant to be used to give an indication of the presence or not of a PHY with the corresponding address. Writing a 1 to any bit will clear it, writing a 0 has no effect.</p>
<dl class="section return"><dt>Returns</dt><dd>0 The PHY fails to acknowledge the access. 1 The most recent access to the PHY with an address corresponding to the register bit number was acknowledged by the PHY. </dd></dl>
<dl class="section user"><dt>SafeTool Function MD5:</dt><dd>800FFE2AAB99170B0380281EF3826575 </dd></dl>
<dl class="section user"><dt>SafeTool Function ID:</dt><dd>LCCM254R0.FILE.009.FUNC.005 </dd></dl>

<p>References <a class="el" href="rm4__emac____private_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>, <a class="el" href="rm4__emac____private_8h.html#aaa603fe5ee9d09a2020a6c33961861a0">MDIO_ALIVE</a>, and <a class="el" href="rm4__emac____private_8h.html#a69d2233cd6cb1f0cf52438dfb418666e">MDIO_BASE</a>.</p>

<p>Referenced by <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga2b63784f895bc3acbf1c7e04e8e91632">s16RM4_EMAC_MDIO__Init()</a>, and <a class="el" href="group___e_m_a_c_____l_i_n_k.html#ga28fd9c9e44b8991a6756e39c0cf46ccd">vRM4_EMAC_LINK__Process()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___e_m_a_c_____m_d_i_o_ga65788b926d41be76368189068ff6ef7b_icgraph.png" border="0" usemap="#group___e_m_a_c_____m_d_i_o_ga65788b926d41be76368189068ff6ef7b_icgraph" alt=""/></div>
<map name="group___e_m_a_c_____m_d_i_o_ga65788b926d41be76368189068ff6ef7b_icgraph" id="group___e_m_a_c_____m_d_i_o_ga65788b926d41be76368189068ff6ef7b_icgraph">
<area shape="rect" id="node2" href="group___e_m_a_c_____m_d_i_o.html#ga2b63784f895bc3acbf1c7e04e8e91632" title="Initializes the MDIO peripheral. " alt="" coords="244,5,431,32"/>
<area shape="rect" id="node3" href="group___e_m_a_c_____l_i_n_k.html#ga28fd9c9e44b8991a6756e39c0cf46ccd" title="process the state machine Called each program loop to progressively bring up the link. " alt="" coords="479,31,675,57"/>
<area shape="rect" id="node4" href="group___a_u_x_p_r_o_p_____e_t_h_e_r_n_e_t.html#ga07ef859caffe639869e79024127100f6" title="Process any ethernet tasks. " alt="" coords="723,31,871,57"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga11ebd1f2af2da4933f586a79a26e1a71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Luint32 u32RM4_EMAC_MDIO__Get_LinkStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the link status of all PHY connected to this MDIO. </p>
<p>Reads the link status of all PHY connected to this MDIO. The bit corresponding to the PHY address will be set if the PHY link is active. MDIO Link state bits. This register is updated after a read of the generic status register of a PHY. The bit is set if the PHY with the corresponding address has link and the PHY acknowledges the read transaction. The bit is reset if the PHY indicates it does not have link or fails to acknowledge the read transaction. Writes to the register have no effect.</p>
<dl class="section return"><dt>Returns</dt><dd>0 The PHY indicates it does not have a link or fails to acknowledge the read transaction 1 The PHY with the corresponding address has a link and the PHY acknowledges the read transaction. </dd></dl>
<dl class="section user"><dt>SafeTool Function MD5:</dt><dd>E839F26A5A9885ED6BB2FA0927F36757 </dd></dl>
<dl class="section user"><dt>SafeTool Function ID:</dt><dd>LCCM254R0.FILE.009.FUNC.006 </dd></dl>

<p>References <a class="el" href="rm4__emac____private_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>, <a class="el" href="rm4__emac____private_8h.html#a69d2233cd6cb1f0cf52438dfb418666e">MDIO_BASE</a>, and <a class="el" href="rm4__emac____private_8h.html#a90f7eaa9ab613aa8a57fae5e7557a1cb">MDIO_LINK</a>.</p>

</div>
</div>
<a class="anchor" id="ga1bf09fb1fda13de1b813123014e8894d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Luint32 u32RM4_EMAC_MDIO__Get_ModuleRevisionID </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reads the module revision ID </p>
<dl class="section return"><dt>Returns</dt><dd>The Rev ID </dd></dl>
<dl class="section user"><dt>SafeTool Function MD5:</dt><dd>9E95F6366A3389687C08B0099AB9D33B </dd></dl>
<dl class="section user"><dt>SafeTool Function ID:</dt><dd>LCCM254R0.FILE.009.FUNC.002 </dd></dl>

<p>References <a class="el" href="rm4__emac____private_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>, <a class="el" href="rm4__emac____private_8h.html#a69d2233cd6cb1f0cf52438dfb418666e">MDIO_BASE</a>, and <a class="el" href="rm4__emac____private_8h.html#a22e2b8cb86c9df3c13a8e8b7f917f56b">MDIO_REVID</a>.</p>

<p>Referenced by <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga2b63784f895bc3acbf1c7e04e8e91632">s16RM4_EMAC_MDIO__Init()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___e_m_a_c_____m_d_i_o_ga1bf09fb1fda13de1b813123014e8894d_icgraph.png" border="0" usemap="#group___e_m_a_c_____m_d_i_o_ga1bf09fb1fda13de1b813123014e8894d_icgraph" alt=""/></div>
<map name="group___e_m_a_c_____m_d_i_o_ga1bf09fb1fda13de1b813123014e8894d_icgraph" id="group___e_m_a_c_____m_d_i_o_ga1bf09fb1fda13de1b813123014e8894d_icgraph">
<area shape="rect" id="node2" href="group___e_m_a_c_____m_d_i_o.html#ga2b63784f895bc3acbf1c7e04e8e91632" title="Initializes the MDIO peripheral. " alt="" coords="244,13,431,39"/>
<area shape="rect" id="node3" href="group___e_m_a_c_____l_i_n_k.html#ga28fd9c9e44b8991a6756e39c0cf46ccd" title="process the state machine Called each program loop to progressively bring up the link. " alt="" coords="479,13,675,39"/>
<area shape="rect" id="node4" href="group___a_u_x_p_r_o_p_____e_t_h_e_r_n_e_t.html#ga07ef859caffe639869e79024127100f6" title="Process any ethernet tasks. " alt="" coords="723,13,871,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf4025a583b27c77e91b59832f1210544"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vRM4_EMAC_MDIO__Write_Register </td>
          <td>(</td>
          <td class="paramtype">Luint32&#160;</td>
          <td class="paramname"><em>u32RegIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Luint16&#160;</td>
          <td class="paramname"><em>u16Value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a PHY register using MDIO. </p>
<p>Writes a PHY register using MDIO. 28.2.8.2.2 Writing Data To a PHY Register The MDIO module includes a user access register [USERACCESSn) to directly access a specified PHY device. To write a PHY register, perform the following:</p><ol type="1">
<li>Check to ensure that the GO bit in the MDIO user access register [USERACCESSn) is cleared.</li>
<li>Write to the GO, WRITE, REGADR, PHYADR, and DATA bits in USERACCESSn corresponding to the PHY and PHY register you want to write.</li>
<li>The write operation to the PHY is scheduled and completed by the MDIO module. Completion of the write operation can be determined by polling the GO bit in USERACCESSn for a 0.</li>
<li>Completion of the operation sets the corresponding USERINTRAW bit [0 or 1) in the MDIO user command complete interrupt register [USERINTRAW) corresponding to USERACCESSn used. If interrupts have been enabled on this bit using the MDIO user command complete interrupt mask set register [USERINTMASKSET), then the bit is also set in the MDIO user command complete interrupt register [USERINTMASKED) and an interrupt is triggered on the CPU.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u16Value</td><td>Value to be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32RegIndex</td><td>Register Number to be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>SafeTool Function MD5:</dt><dd>CF9A82F985E2A7CBE53A1C2F5C4DFCF0 </dd></dl>
<dl class="section user"><dt>SafeTool Function ID:</dt><dd>LCCM254R0.FILE.009.FUNC.004 </dd></dl>

<p>References <a class="el" href="rm4__emac____dp83640__private_8h.html#aacf809e0126944e4d80e729f02a21b97">C_DP83640__PHY_INDEX</a>, <a class="el" href="rm4__emac____private_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>, <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga3fab5e6517d19549f9737cabfed28fdd">MDIO__PHY_ADDR_MASK</a>, <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga898c0ce1727cf9a4e658b4e405314c47">MDIO__PHY_ADDR_SHIFT</a>, <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga053472a8a014797e2530755579f383bc">MDIO__PHY_REG_MASK</a>, <a class="el" href="group___e_m_a_c_____m_d_i_o.html#ga0cf17ec32a947b5666cf8849056dbaac">MDIO__PHY_REG_SHIFT</a>, <a class="el" href="rm4__emac____private_8h.html#a69d2233cd6cb1f0cf52438dfb418666e">MDIO_BASE</a>, <a class="el" href="rm4__emac____private_8h.html#a18330a62f4a443e65a06809ab97660e2">MDIO_USERACCESS0</a>, <a class="el" href="rm4__emac____private_8h.html#a899917f91dd5064395c46f9e6a6b0da0">MDIO_USERACCESS0_GO</a>, and <a class="el" href="rm4__emac____private_8h.html#afadc42051f71c036aab38bf1a2544cfe">MDIO_USERACCESS0_WRITE</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
